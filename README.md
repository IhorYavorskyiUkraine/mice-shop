# Mice Shop

## Описание проекта
Mice Shop — это веб-приложение для продажи компьютерных мышек. Проект реализован на стеке Next.js, NestJS, GraphQL, Apollo GraphQL, PostgreSQL и Docker.

## Документация проекта может дополняться и изменяться по мере развития

## Функциональные возможности 
- Главная страница со слайдером и каталогом товаров.
- Каталог товаров с фильтрацией и сортировкой.
- Страница товара с описанием, характеристиками и отзывами.
- Корзина покупок и оформление заказа.
- Авторизация и регистрация пользователей.
- Личный кабинет с историей заказов.
- Возможность оставлять отзывы и ставить оценки.
- Интеграция с платежной системой.

## Технический стек
- **Frontend**: Next.js, Apollo Client, Tailwind CSS.
- **Backend**: NestJS, Apollo Server, GraphQL, Prisma ORM.
- **База данных**: PostgreSQL.
- **Инфраструктура**: Docker, Docker Compose.

## План разработки
### 1. Анализ требований
- Определение ключевого функционала.
- Проектирование структуры базы данных.

### 2. Настройка окружения
- Конфигурация Docker и Docker Compose.
- Развертывание PostgreSQL.

### 3. Разработка Backend (NestJS)
#### 3.1 Настройка базовой архитектуры
- Инициализация NestJS-проекта. ✅
- Настройка GraphQL API через Apollo Server.
- Подключение Prisma ORM и настройка схемы базы данных.

#### 3.2 Реализация авторизации и аутентификации
- Создание модели `User` в базе данных (id, email, password, role).
- Настройка регистрации пользователей с хешированием паролей через bcrypt.
- Настройка входа в систему и генерация JWT-токенов.
- Middleware для проверки аутентификации и авторизации пользователей.

#### 3.3 Реализация управления товарами
- Создание модели `Product` (id, name, description, price, image, stock).
- CRUD-операции для товаров (создание, чтение, обновление, удаление).
- Фильтрация и сортировка товаров.

#### 3.4 Работа с заказами
- Создание модели `Order` (id, userId, items, totalPrice, status).
- Логика оформления заказа и обновления статуса.

### 4. Разработка Frontend (Next.js)
#### 4.1 Настройка базовой архитектуры
- Настройка Apollo Client для работы с GraphQL.
- Настройка маршрутизации через Next.js.

#### 4.2 Реализация страниц
- Главная страница со слайдером и каталогом товаров
- Страница товара с отзывами.
- Корзина покупок и оформление заказа.
- Авторизация, регистрация и личный кабинет.

#### 4.3 Управление состоянием
- Глобальное состояние через Apollo Cache или Zustand.
- Хранение информации о сессии пользователя и токене.

### 5. Интеграция платежной системы
- Подключение Stripe или PayPal.
- Обработка успешных и неуспешных платежей.

### 6. Тестирование
- Юнит-тесты для API.
- Интеграционные тесты GraphQL.
- Тестирование UI.

### 7. Развертывание
- Настройка CI/CD для автоматического деплоя.
- Размещение проекта на сервере (VPS, AWS, Heroku и т.д.).

#### История

- 19.03.25 Нарисовал шапку для сайта 
- 20.03.25 Сделал мейн, футер, корзину и половину оформления заказа 
- 24.03.25 Сделал оформление заказа, страницу профиля, страницу товара, магазина и контактов 
- 25.03.25 Сделал модели призма, сервис для юзера и немного изменил шрифт
- 26.03.25 Пересмотрена схема базы данных (может меняться), добавлены сервисы и ресолверы для продуктов, юзеров и аутентификации  
- 27.03.25 Сделал сидинг для продуктов и их категорий/тегов, а так же сервисы и ресолверы для корзины и продуктов
- 02.04.25 Исправлены модели GraphQL, сделан хедер, поиск товаров, переход на pnpm 
- 05.04.25 Добавлен спиннер, скелетон, недавние запросы, а так же поиск и бургер на мобильные разрешения 
- 06.04.25 Добавлены компоненты для секций и слайдер
- 07.04.25 Добавил футер, новые секции + изменил существующие, изменил сид и сервис для продуктов
- 08.04.25 Изменена модель продукта, исправил секции с продуктами
- 10.04.25 Добавлены типы во фронтенде, компоненты для ui, доделан респонсив для главной страницы, начата страница для магазина
- 14.04.25 Добавлены фильтры для поиска товаров во фронтенде и на бекенде
- 15.04.25 Добавлена пагинация и сохранения параметров в квери строке
- 16.04.25 Добавлена сортировка и адаптив для страницы с продуктами, начал делать страницу для продукта
- 17.04.25 Добавлена информация, модели, цвета и их выбор на странице с продуктом, начата работа над корзиной и аутентификацией
- 21.04.25 Добавлена корзина, аутентификация, начал делать адаптив для страницы с товаром
- 22.04.25 Немного обновлена логика изменения количества продуктов в корзине, добавлена возможность оставлять комментарии под продуктами и скелетоны
- 23.04.25 Добавил возможность ставить рейтинг продукту и пагинацию комментариев, сделан компонент для сортировки на моб.устройствах,
- 24.04.25 Сделано обновление токенов, авторизация пользователя, добавлена страница контактов
- 28.04.25 Работа над защищёнными роутами
- 29.04.25 Сделан таб с информацией о профиле, смена информации юзера
- 01.05.25 Сделаны коды для продуктов и доделана смена информации о профиле, начало работы над добавлением продукта в избранное
- 05.05.25 Добавил метатеги, исправил скелетон, добавил поиск продуктов по коду, пересматривал документацию некста
- 06.05.25 Доделана логика добавления пордукта в избранные
- 07.05.25 Добавил кетч ол в профиле, добавил чтение квери стринги на странице с продуктом
- 08.05.25 Добавлена гостевая корзина, начата работа над оформлением заказов
- 09.05.25 Доделан поиск городов и номера отделений/почтоматов новой почты, начало работы над автоматическим созданием накладной
- 12.05.25 Начало работы над созданием заказа
- 13.05.25 Добавлена возможность создания и поиска заказа
- 14.05.25 Добавлена возможность просматривать заказы
- 16.05.25 Изменён слайдер цен на странице с товарами
- 19.05.25 Улучшение UI

#### Примечания
- НЕДОДЕЛАННЫЕ ТАСКИ ПО ПОИСКУ //TODO